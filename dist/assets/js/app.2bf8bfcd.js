(function(e){function n(n){for(var r,a,c=n[0],i=n[1],s=n[2],f=0,m=[];f<c.length;f++)a=c[f],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&m.push(o[a][0]),o[a]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);l&&l(n);while(m.length)m.shift()();return u.push.apply(u,s||[]),t()}function t(){for(var e,n=0;n<u.length;n++){for(var t=u[n],r=!0,a=1;a<t.length;a++){var i=t[a];0!==o[i]&&(r=!1)}r&&(u.splice(n--,1),e=c(c.s=t[0]))}return e}var r={},o={app:0},u=[];function a(e){return c.p+"assets/js/"+({}[e]||e)+"."+{"chunk-21a29af6":"f3f21c23","chunk-2d0cfe39":"0a03f7fe","chunk-2d21dc37":"e7e83f17","chunk-2d230c65":"dfe4527d","chunk-32f0b8a6":"022be4bf","chunk-3ad564b6":"16f8e8c2","chunk-418b7ac3":"7cf1189c","chunk-4517a68e":"7e0f2cb6","chunk-4f1083bc":"e672a420","chunk-6580492a":"a1abf8a7","chunk-76377426":"0eae9e29","chunk-ac8f2386":"d636299f","chunk-c1a410aa":"0f356df3","chunk-fda948e8":"52f4dd63"}[e]+".js"}function c(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,c),t.l=!0,t.exports}c.e=function(e){var n=[],t=o[e];if(0!==t)if(t)n.push(t[2]);else{var r=new Promise((function(n,r){t=o[e]=[n,r]}));n.push(t[2]=r);var u,i=document.createElement("script");i.charset="utf-8",i.timeout=120,c.nc&&i.setAttribute("nonce",c.nc),i.src=a(e);var s=new Error;u=function(n){i.onerror=i.onload=null,clearTimeout(f);var t=o[e];if(0!==t){if(t){var r=n&&("load"===n.type?"missing":n.type),u=n&&n.target&&n.target.src;s.message="Loading chunk "+e+" failed.\n("+r+": "+u+")",s.name="ChunkLoadError",s.type=r,s.request=u,t[1](s)}o[e]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:i})}),12e4);i.onerror=i.onload=u,document.head.appendChild(i)}return Promise.all(n)},c.m=e,c.c=r,c.d=function(e,n,t){c.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,n){if(1&n&&(e=c(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(c.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)c.d(t,r,function(n){return e[n]}.bind(null,r));return t},c.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(n,"a",n),n},c.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},c.p="",c.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=n,i=i.slice();for(var f=0;f<i.length;f++)n(i[f]);var l=s;u.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"56d7":function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d");var r=t("2b0e"),o=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},u=[],a={name:"App",components:{}},c=a,i=t("2877"),s=Object(i["a"])(c,o,u,!1,null,null,null),f=s.exports,l=t("b970"),m=t("343b"),d=(t("157a"),t("833e"),t("5cfb"),t("d3b7"),t("8c4f")),h=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("router-view")},p=[],v={name:"layout",components:{}},b=v,g=Object(i["a"])(b,h,p,!1,null,"30bc659e",null),S=g.exports;r["a"].use(d["a"]);var k=[{path:"/login",name:"Login",component:function(){return t.e("chunk-fda948e8").then(t.bind(null,"013f"))}},{path:"/404",name:"404",component:function(){return t.e("chunk-2d230c65").then(t.bind(null,"ee5d"))}},{path:"/",meta:{group:"home",text:"主页"},redirect:{name:"home"}},{path:"/home",component:S,meta:{group:"home"},redirect:{name:"home"},children:[{path:"",name:"home",component:function(){return t.e("chunk-3ad564b6").then(t.bind(null,"591c"))}}]},{path:"/serve",component:S,meta:{group:"serveCenter"},redirect:{name:"serveCenter"},children:[{path:"",name:"serveCenter",component:function(){return t.e("chunk-6580492a").then(t.bind(null,"75a5"))}},{path:":type/:id",name:"serveDetail",component:function(){return t.e("chunk-4517a68e").then(t.bind(null,"e102"))}},{path:"addList",name:"addList",component:function(){return t.e("chunk-2d0cfe39").then(t.bind(null,"6647"))}}]},{path:"/investigate",component:S,meta:{group:"investigate"},redirect:{name:"investigate"},children:[{path:"",name:"investigate",component:function(){return t.e("chunk-ac8f2386").then(t.bind(null,"ab42"))}},{path:"detail/:id",name:"logDetail",component:function(){return t.e("chunk-76377426").then(t.bind(null,"9681"))}},{path:"suspect/list",name:"suspectList",component:function(){return t.e("chunk-21a29af6").then(t.bind(null,"59e4"))}},{path:"stakeholder/list",name:"stakeHolderList",component:function(){return t.e("chunk-c1a410aa").then(t.bind(null,"69c1"))}},{path:"suspect/:id",name:"suspectEditInfo",component:function(){return t.e("chunk-2d21dc37").then(t.bind(null,"d34f"))}},{path:"suspectother",name:"suspectOther",component:function(){return t.e("chunk-4f1083bc").then(t.bind(null,"8bfd"))}}]},{path:"/message",component:S,meta:{group:"message"},redirect:{name:"message"},children:[{path:"",name:"message",component:function(){return t.e("chunk-418b7ac3").then(t.bind(null,"8650"))}}]},{path:"/account",component:S,meta:{group:"account"},redirect:{name:"account"},children:[{path:"",name:"account",component:function(){return t.e("chunk-32f0b8a6").then(t.bind(null,"e422"))}}]}],E=[];function y(){return new d["a"]({scrollBehavior:function(){return{y:0}},routes:k})}var w=y();function O(){var e=new d["a"]({scrollBehavior:function(){return{y:0}},routes:k});w.matcher=e.matcher}var _=w,T=t("2f62"),I=(t("4de4"),t("99af"),t("bc3a")),N=t.n(I),j=t("a78e"),P=t.n(j),R="token";function U(){return P.a.get(R)}var L=N.a.create({timeout:3e5}),x="token";L.interceptors.request.use((function(e){var n=z.state.user.token;return n&&(e.headers[x]=U()),e}),(function(e){Promise.reject(e)})),L.interceptors.response.use((function(e){return e}),(function(e){return 401===e.response.status&&(localStorage.removeItem("loginStatus"),_.push({name:"Login"})),Promise.reject(e)}));var A=L;function M(e){return A({url:"/user/login",method:"post",params:e})}function C(){return A({url:"/user/logout",method:"post"})}function F(){return A({url:"/user/user-info",method:"get"})}var $={state:{userId:"",userName:"",orgId:"",orgName:"",roles:[],isAdmin:!1},mutations:{SET_USERNAME:function(e,n){e.userName=n},SET_USERINFO:function(e,n){if(e.userId=n.userId,e.userName=n.userName,e.orgId=n.orgId,e.orgName=n.orgName,e.roles=n.roleNames,n&&n.roleNames){var t=n.roleNames.filter((function(e){return 1===e.roleId}));t.length&&(e.isAdmin=!0)}else e.isAdmin=!1},SET_ROLES:function(e,n){e.roles=n}},actions:{UserLogin:function(e,n){e.commit;return new Promise((function(e,t){M(n).then((function(n){localStorage.setItem("loginStatus","true"),e(n)})).catch((function(e){t(e)}))}))},UserLogout:function(e){var n=e.commit;return new Promise((function(e,t){C().then((function(){n("SET_USERNAME",""),n("SET_USERINFO",{}),localStorage.removeItem("loginStatus"),O(),e()})).catch((function(e){n("SET_USERNAME",""),n("SET_USERINFO",{}),localStorage.removeItem("loginStatus"),O(),t(e)}))}))},resetToken:function(e){var n=e.commit;return new Promise((function(e){n("SET_USERNAME",""),localStorage.removeItem("loginStatus"),n("SET_ROLES",[]),e()}))},GetUserInfo:function(e){var n=e.commit;return new Promise((function(e,t){F().then((function(r){var o=r.data;200===r.status?(n("SET_USERINFO",o),e(r)):t(o.message)})).catch((function(e){t(e)}))}))}}},q=$,B=(t("4160"),t("caad"),t("45fc"),t("2532"),t("159b"),t("5530"));function D(e,n){return!n.meta||!n.meta.roles||e.some((function(e){return n.meta.roles.includes(e)}))}function J(e,n){var t=[];return e.forEach((function(e){var r=Object(B["a"])({},e);D(n,r)&&(r.children&&(r.children=J(r.children,n)),t.push(r))})),t}var G={state:{routes:[],addRoutes:[]},mutations:{SET_ROUTES:function(e,n){e.addRoutes=n,e.routes=k.concat(n)}},actions:{generateRoutes:function(e,n){var t=e.commit;return new Promise((function(e){var r;r=n.includes("admin")?E||[]:J(E,n),t("SET_ROUTES",r),e(r)}))}}},H=G;r["a"].use(T["a"]);var z=new T["a"].Store({state:{},mutations:{},actions:{},modules:{user:q,permission:H}});t("7dc4"),t("909d"),t("bf19"),t("6360"),t("e8fc"),t("b372"),t("6c74");r["a"].use(l["a"]),r["a"].use(m["a"]),r["a"].config.productionTip=!1,new r["a"]({router:_,store:z,render:function(e){return e(f)}}).$mount("#app")},6360:function(e,n,t){},"6c74":function(e,n,t){},"7dc4":function(e,n,t){},"909d":function(e,n,t){},b372:function(e,n,t){},bf19:function(e,n,t){},e8fc:function(e,n,t){}});